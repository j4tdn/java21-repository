-- 03.sql --> Liên quan đến EMPLOYEE, TITLE
-- T07_EMPLOYEE, T08_TITLE

USE java21_shopping;

CREATE TABLE T08_TITLE(
	C08_TITLE_ID	INT PRIMARY KEY,
	C08_TITLE_NAME	VARCHAR(255) NOT NULL
);

CREATE TABLE T07_EMPLOYEE(
	C07_EMPLOYEE_ID			INT PRIMARY KEY,
	C07_EMPLOYEE_NAME		VARCHAR(255) NOT NULL,
	C07_EMPLOYEE_ADDRESS	TEXT NOT NULL,
	C07_EMPLOYEE_PHONE		VARCHAR(50) NOT NULL,
	C07_EMPLOYEE_EMAIL		VARCHAR(100) NOT NULL,
	C07_EMPLOYEE_USERNAME	VARCHAR(100) NOT NULL,
	C07_EMPLOYEE_PASSWORD   VARCHAR(255) NOT NULL,
	C07_TITLE_ID 			INT NOT NULL,
	CONSTRAINT FK_TITLE_ID FOREIGN KEY(C07_TITLE_ID) REFERENCES T08_TITLE(C08_TITLE_ID),
    CONSTRAINT CHECK_EMPLOYEE_PHONE CHECK (C07_EMPLOYEE_PHONE REGEXP '^[0-9]+$'),
    CONSTRAINT CHECK_EMPLOYEE_PASSWORD_LENGTH CHECK (LENGTH(C07_EMPLOYEE_PASSWORD) BETWEEN 8 AND 255)
);