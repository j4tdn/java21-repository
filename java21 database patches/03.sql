-- 03.sql --> Lien quan den STATISTIC
-- T09_ITEM_STATISTIC, T10_REVENUE

USE java21_shopping;

CREATE TABLE T09_ITEM_STATISTIC (
  C09_ITEM_ID INT,
  C09_DATE_FROM_0H00 DATETIME,
  C09_DATE_UNTIL_23H59 DATETIME,
  C09_SALES_AMOUNT INTEGER,
  C09_REVENUE FLOAT,
  PRIMARY KEY (C09_ITEM_ID, C09_DATE_FROM_0H00, C09_DATE_UNTIL_23H59),
  CONSTRAINT CHECK_SALES_AMOUNT CHECK (C09_SALES_AMOUNT > 0),
  CONSTRAINT FK_ITEM_STATISTIC_ITEM_ID FOREIGN KEY (C09_ITEM_ID) REFERENCES T01_ITEM(C01_ITEM_ID)
);

CREATE TABLE T10_REVENUE (
  C10_RID INT,
  C10_DATE_FROM_0H00 DATETIME,
  C10_DATE_UNITIL_23H59 DATETIME,
  C10_TOTAL_OF_MONEY FLOAT NOT NULL,
  PRIMARY KEY (C10_RID, C10_DATE_FROM_0H00, C10_DATE_UNITIL_23H59)
);